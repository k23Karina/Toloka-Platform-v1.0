{% extends "base.html" %}
{% block title %}–ö–æ–º–∞–Ω–¥–∏ - –¢–æ–ª–æ–∫–∞{% endblock %}
{% block content %}
<div class="container">
    <div class="page-header">
        <h1>üë• –ö–æ–º–∞–Ω–¥–∏</h1>
        {% if current_user.is_authenticated %}
        <button class="btn btn-primary" onclick="showCreateTeamModal()">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–º–∞–Ω–¥—É</button>
        {% endif %}
    </div>

    <div class="teams-grid">
        {% for team in teams %}
        <div class="team-card">
            <div class="team-header">
                <h3>{{ team.name }}</h3>
                <span class="team-league league-{{ team.league }}">{{ team.league }}</span>
            </div>
            <p>{{ team.description }}</p>
            <div class="team-stats">
                <span><i class="fas fa-users"></i> {{ team.members|length }} —á–ª–µ–Ω—ñ–≤</span>
                <span><i class="fas fa-trophy"></i> {{ team.points }} –±–∞–ª—ñ–≤</span>
                <span><i class="fas fa-calendar-check"></i> {{ team.events_count }} —Ç–æ–ª–æ–∫</span>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<div id="createTeamModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–º–∞–Ω–¥—É</h2>
        <form method="POST" action="{{ url_for('create_team') }}">
            <div class="form-group">
                <label for="name">–ù–∞–∑–≤–∞ –∫–æ–º–∞–Ω–¥–∏ *</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="description">–û–ø–∏—Å</label>
                <textarea id="description" name="description" rows="4"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">–°—Ç–≤–æ—Ä–∏—Ç–∏</button>
        </form>
    </div>
</div>

<script>
function showCreateTeamModal() {
    document.getElementById('createTeamModal').style.display = 'block';
}
function closeModal() {
    document.getElementById('createTeamModal').style.display = 'none';
}
window.onclick = function(e) {
    const modal = document.getElementById('createTeamModal');
    if (e.target == modal) closeModal();
}
</script>
{% endblock %}