{% extends "base.html" %}
{% block title %}{{ user.username }} - –¢–æ–ª–æ–∫–∞{% endblock %}
{% block content %}
<div class="container">
    <div class="profile-header">
        <div class="profile-avatar">
            <i class="fas fa-user-circle fa-5x"></i>
        </div>
        <div class="profile-info">
            <h1>{{ user.full_name or user.username }}</h1>
            <p class="profile-username">@{{ user.username }}</p>
            <p class="profile-joined">–ü—Ä–∏—î–¥–Ω–∞–≤—Å—è {{ user.created_at.strftime('%d.%m.%Y') }}</p>
        </div>
    </div>

    <div class="profile-stats">
        <div class="stat-card">
            <div class="stat-icon">üèÜ</div>
            <div class="stat-number">{{ user.points }}</div>
            <div class="stat-label">–ë–∞–ª—ñ–≤</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">üéØ</div>
            <div class="stat-number">{{ user.events_count }}</div>
            <div class="stat-label">–¢–æ–ª–æ–∫</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">‚ôªÔ∏è</div>
            <div class="stat-number">{{ "%.1f"|format(user.total_waste) }} –∫–≥</div>
            <div class="stat-label">–°–º—ñ—Ç—Ç—è</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">‚ú®</div>
            <div class="stat-number">{{ "%.0f"|format(user.total_area) }} –º¬≤</div>
            <div class="stat-label">–¢–µ—Ä–∏—Ç–æ—Ä—ñ—ó</div>
        </div>
    </div>

    <div class="profile-content">
        <div class="achievements-section">
            <h2>–î–æ—Å—è–≥–Ω–µ–Ω–Ω—è</h2>
            {% if achievements %}
            <div class="achievements-grid">
                {% for ua in achievements %}
                <div class="achievement-badge">
                    <div class="achievement-icon">{{ ua.achievement.icon }}</div>
                    <div class="achievement-name">{{ ua.achievement.name }}</div>
                    <div class="achievement-desc">{{ ua.achievement.description }}</div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <p>–î–æ—Å—è–≥–Ω–µ–Ω—å –ø–æ–∫–∏ –Ω–µ–º–∞—î. –ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ —Ç–æ–ª–æ–∫!</p>
            {% endif %}
        </div>

        <div class="recent-events">
            <h2>–û—Å—Ç–∞–Ω–Ω—ñ –ø–æ–¥—ñ—ó</h2>
            {% if events %}
            <ul class="events-list-simple">
                {% for event in events %}
                <li><a href="{{ url_for('event_detail', event_id=event.id) }}">{{ event.title }}</a> - {{ event.date.strftime('%d.%m.%Y') }}</li>
                {% endfor %}
            </ul>
            {% else %}
            <p>–©–µ –Ω–µ –±—É–ª–æ —É—á–∞—Å—Ç—ñ —É —Ç–æ–ª–æ–∫–∞—Ö</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}